
> opti-update@1.2.3 ex.rollback /home/yuferev/projects/opti-update
> babel-node examples/rollback.js

start: a: 1, b: 1, c: 1

update a, b

fetch a
status: { complete: false, pending: true, error: null }
set a 2
set b 2

update c
set c 2

update b
set b 3

fetching
set a 3
status: { complete: true, pending: false, error: null }
status: { complete: false, pending: true, error: null }

fetch c #1
status: { complete: false,
  pending: false,
  error: { message: 'some error', name: 'RecoverableError' } }

User calls retry
status: { complete: false, pending: true, error: null }

fetch c #2
status: { complete: false,
  pending: false,
  error: { message: 'some error', name: 'RecoverableError' } }

User calls abort
status: { complete: false,
  pending: false,
  error: { message: 'some error', name: 'Error' } }
set c 1
start: a: 3, b: 3, c: 1
